# AXOL

**崩壊ベースプログラミング言語**

AXOLは**観測が計算そのもの**であるプログラミング言語だ。答えを計算しない — 可能性の構造を織り上げ(weave)、それを観測する(observe)。どれだけ知るか、どれだけ失うかを選択する。

```
declare "mood" {
    input text(8)
    input context(8)
    relate sentiment <- text, context via <~>
    output sentiment
    quality omega=0.85 phi=0.8
}

weave mood quantum=true seed=42

# すべての可能性を見る（コスト：なし）
gaze mood { text = [...] context = [...] }

# 一つの答えを見る（コスト：他のすべて）
observe mood { text = [...] context = [...] }
```

**観測コスト：O(1)。常に。モデルサイズやデータに無関係。**

---

## AXOLが存在する理由

これまで作られたすべてのプログラミング言語は同じパラダイムに従う：

```
入力 → 計算 → 出力
```

プログラムはデータを受け取り、一連の演算を経て結果を出す。C、Python、Haskell、ニューラルネットワーク — 答えを得るコストは計算の複雑さに比例する。

AXOLはこれを反転させる：

```
構造の構築（1回）→ 観測（O(1)、何度でも）
```

計算は構造を**織る時(weave)**に起こる。その後のすべての観測は — 何回でも — 同じコスト：**約5マイクロ秒**。

これは最適化ではない。量子測定理論とカオス力学に基づく**異なる計算モデル**だ。

---

## AXOLだけができる三つのこと

### 1. どれだけ知るかを選択できる

```
gaze x           # C=0: すべての可能性を見る、何も失わない
glimpse x 0.3    # C=0.3: 部分的に見る、部分的に失う
glimpse x 0.7    # C=0.7: ほぼ確実、大半の可能性が消滅
observe model {}  # C=1: 一つの答え、他のすべてが破壊される
```

他のすべての言語では、関数を実行するかしないかの二択だ。AXOLは完全な不確実性から完全な確実性まで**連続的なスペクトラム**を提供する。パラメータC（崩壊レベル）が知識と可能性のトレードオフを制御する。

### 2. 知ることの代償を追跡する

```
wave planet = scanner { reading = [...] }
gaze planet                    # すべての可能性が生きている
focus planet 0.5               # 部分崩壊
widen planet 0.3               # 元に戻す試み — 完全には復元できない
gaze planet                    # 分布が永久に変わった
```

観測は**不可逆**だ。可能性を一度崩壊させると、完全に復元できない。AXOLはこれを**negativity** — 関係に残る開放性の量を測る数値 — で明示的に追跡する。

**知ることがシステムを変える**という事実をモデル化する言語はAXOL以外にない。

### 3. 干渉で計算する

```
rel agreement = wave_a <-> wave_b via <~>   # 建設的干渉：共通点が強化
rel conflict  = wave_a <-> wave_b via <!>   # 破壊的干渉：差異が増幅
rel combined  = wave_a <-> wave_b via <+>   # 加算的干渉：情報が蓄積
```

AXOLは数値で計算しない。**波動間の干渉パターン**で計算する。二つの波が出会う時：
- **建設的 (`<~>`)**: 共有するものが強くなる
- **破壊的 (`<!>`)**: 異なるものが増幅、共通するものが消滅
- **乗算的 (`<*>`)**: 両方が持つものだけが生き残る
- **加算的 (`<+>`)**: 情報が蓄積する
- **条件的 (`<?>`)**: 一方の波がもう一方の位相を回転させる

これは比喩ではない。Born則量子力学に従う複素振幅演算だ。

---

## なぜ新しいパラダイムなのか

### 既存パラダイムとの比較

| | 命令型 (C, Python) | 関数型 (Haskell) | ニューラルネット (PyTorch) | **AXOL** |
|---|---|---|---|---|
| **基本単位** | 変数と命令 | 関数と値 | テンソルと演算 | **波動(Wave)と観測** |
| **計算方式** | 逐次実行 | 関数合成 | 逆伝播 | **干渉 + 崩壊** |
| **答えを得るコスト** | O(演算数) | O(演算数) | O(パラメータ数) | **O(1)** |
| **不確実性** | なし（確定的） | なし（確定的） | 確率分布（解釈） | **基本型 (Wave)** |
| **観測の効果** | なし | なし | なし | **システムを変化させる** |
| **部分的な知** | 不可 | 不可 | 不可 | **C=0〜1連続スペクトラム** |
| **関係** | 参照/ポインタ | 関数 | 重み行列 | **干渉パターン（第一級オブジェクト）** |
| **不可逆性** | なし | なし（純粋） | なし | **観測が可能性を破壊** |

### 既存言語の暗黙の前提

1. **計算は決定的だ** — 同じ入力に同じ出力。(AXOL: 観測レベルにより異なる)
2. **読み取りは無料だ** — 変数を読んでも変数は変わらない。(AXOL: 観測が状態を変える)
3. **答えは一つだ** — 関数は一つの値を返す。(AXOL: 可能性の分布を返す)
4. **関係は派生的だ** — AとBが先、A-B関係は後。(AXOL: 関係が先)

AXOLはこの四つの前提をすべて捨てる。

---

## インストール

```bash
git clone https://github.com/user/axol-lang.git
cd axol-lang
cargo build --release
./target/release/axol run examples/hello.axol
```

要件：Rust 1.70+（線形代数に`faer`を使用）

---

## 性能

```
weave（1回）:       ~11ms   (dim=8, カオス力学)
observe:            ~5μs    (dim=8, O(1))
gaze:               ~5μs    (dim=8, O(1), C=0)
glimpse:            ~30μs   (dim=8, dephasing含む)
rel observe:        ~5μs    (O(1))
focus:              ~25μs   (dim=8, 密度行列含む)
```

フレームあたりNPC20回観測：**合計~80μs**。60fpsでフレーム予算の0.5%。

---

## 応用分野

| ドメイン | Cの意味 | AXOLの役割 |
|----------|---------|------------|
| ゲームNPC AI | C=0 戦略探索、C=1 行動実行 | 毎フレームO(1)意思決定 |
| ロボティクス | C=0 経路空間、C=1 移動 | kHz制御ループのリアルタイム処理 |
| 知覚モデリング | expect=予測、wave=感覚、C=観測 | 予測誤差追跡（negativity_delta） |
| 対話システム | C=0 可能な応答、C=1 発話 | 同意/反論の干渉構造 |
| 手続的ナラティブ | C=0 すべての分岐、C=1 選択 | 選択の不可逆的コスト |
| 自動運転 | C=0 すべての経路、C=1 操舵 | リアルタイム + 観測が状態を変える |
| 金融HFT | C=0 市場状態、C=1 注文 | μs決定、注文が市場を変える |
| 生成音楽 | C=0 和声の可能性、C=1 演奏 | `<~>` 協和、`<!>` 不協和 |
| 社会シミュレーション | C=0 意見分布、C=1 行動 | 関係干渉で社会力学 |
| 医療診断 | C=0 可能な疾患、C=1 確定 | 検査（観測）が診断を変える |

---

## 例

```bash
axol run examples/hello.axol                     # 基本パイプライン
axol run examples/hello_v2.axol                  # 関係中心文法
axol run examples/usecase_npc_realtime.axol       # ゲームNPC AI
axol run examples/usecase_perception.axol         # 予測符号化
axol run examples/usecase_dialogue.axol           # 対話力学
axol run examples/usecase_observation_cost.axol    # 知の不可逆性
axol run examples/learn_xor.axol                  # データ学習
```

---

## ライセンス

MIT
